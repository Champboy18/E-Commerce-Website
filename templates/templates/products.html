
{% extends "base.html" %}
{% block content %}

<h1>Products</h1>

<form method="get" class="filter-box">
  <input type="text" name="q" value="{{q}}" placeholder="Search products...">
  <select name="category">
    <option value="">All Categories</option>
    {% for c in categories %}
      <option value="{{c.CategoryID}}" {% if current_cat == c.CategoryID|string %}selected{% endif %}>{{c.Name}}</option>
    {% endfor %}
  </select>
  <button type="submit" class="btn">Search</button>
</form>

<div class="grid">
{% for p in items %}
  <div class="card">
    <img src="{{p.ImageURL}}" alt="{{p.Name}}">
    <h3>{{p.Name}}</h3>
    <p class="muted">{{p.CatName}}</p>
    <p>â‚¹{{'%.2f'|format(p.Price)}}</p>
    <a href="/products/{{p.ProductID}}" class="btn">View Details</a>
  </div>
{% endfor %}
</div>

{% endblock %}
